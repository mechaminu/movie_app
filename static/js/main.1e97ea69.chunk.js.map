{"version":3,"sources":["components/Movie.js","routes/Home.js","routes/About.js","routes/MovieDetail.js","components/Navigation.js","App.js","index.js"],"names":["Movie","props","title","year","image","genre","summary","rating","data","to","pathname","state","movie","className","src","alt","map","e","idx","key","str","i","Math","round","slice","RatingStar","length","Home","count","isLoading","movies","scrollFunction","curPos","document","documentElement","scrollTop","maxPos","getElementsByClassName","scrollHeight","window","innerHeight","console","log","getMovies","then","setState","c","page","a","Promise","r","Axios","get","concat","this","addEventListener","removeEventListener","icon","faSpinner","size","color","id","title_english","medium_cover_image","genres","React","Component","About","style","fontSize","href","marginTop","MovieDetail","render","location","undefined","large_cover_image","yt_trailer_code","videoId","history","push","Navigation","faFilm","App","path","exact","component","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.1e97ea69.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Movie.css\"\r\n\r\nfunction Movie(props) {\r\n    let {title, year, image, genre, summary, rating, data} = props\r\n    return <Link to={{\r\n        pathname:\"/movie_detail\",\r\n        state: {\r\n            movie: data\r\n        }\r\n    }}>\r\n        <div className=\"movie\">\r\n            <div className=\"movie_imageWrapper\">\r\n                <img className=\"movie_image\" src={image} alt={title} title={title}></img>\r\n            </div>\r\n            \r\n            <div className=\"movie_info\">\r\n                <div className=\"movie_title\">{title}</div>\r\n                <div className=\"movie_year\">{year}</div>\r\n                <div className=\"movie_genre\"><ul>{genre.map((e, idx)=><li key={idx}>{e}</li>)}</ul></div>\r\n                <div className=\"movie_rating\">\r\n                    {RatingStar(rating)}\r\n                </div>\r\n            </div>\r\n            <div className=\"movie_summary\">{summary.length > 200 ? summary.slice(0,200)+\"...\" : summary}</div>\r\n        </div>\r\n    </Link>\r\n}\r\n\r\nfunction RatingStar(rating) {\r\n    let str=\"\"\r\n    for (let i = Math.round(rating/10*5); i > 0; i--) {\r\n        str = str + \"★\";\r\n    }\r\n    str = str + \"☆☆☆☆☆\";\r\n    return str.slice(0,5)+\" (\"+rating+\")\";\r\n}\r\n\r\nMovie.propTypes = {\r\n    title:PropTypes.string.isRequired,\r\n    year:PropTypes.number.isRequired,\r\n    image:PropTypes.string.isRequired,\r\n    genre:PropTypes.arrayOf(PropTypes.string).isRequired,\r\n    summary:PropTypes.string.isRequired,\r\n    rating:PropTypes.number.isRequired\r\n}\r\n\r\nexport default Movie","import React from \"react\";\r\nimport Axios from \"axios\";\r\nimport Movie from \"../components/Movie\";\r\nimport './Home.css';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSpinner } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n\r\nclass Home extends React.Component {\r\n\r\n    // constructor(p) {\r\n    //     super(p);\r\n    //     console.log(\"Hello, world!\");\r\n    // }\r\n\r\n    // 바뀌는 데이터를 담는 그릇, State\r\n    // Class형 component가 아니더라도 React Hook로 인해서 state 관리가 가능해졌다. (심화)\r\n    state = {   // elements can be defined in setState\r\n        count: 2,\r\n        isLoading: true,\r\n        movies: [],\r\n        scrollFunction: ()=>{\r\n            let curPos = document.documentElement.scrollTop;\r\n            let maxPos = document.getElementsByClassName(\"movies\")[0].scrollHeight;\r\n            let localHeight = window.innerHeight;\r\n\r\n            if(curPos + localHeight >= maxPos) {\r\n                if(!this.state.isLoading) {\r\n                    console.log(\"스크롤이 끝에 도달하였으므로 영화목록 추가 실시\");\r\n                    \r\n                    this.getMovies(this.state.count).then(()=>{\r\n                        this.setState(c=>({count:c.count+1}));\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /** Component Lifecycle Call stack\r\n     *  - mounting\r\n     *      constructor\r\n     *      render\r\n     *      componentDidMount\r\n     *  - updating\r\n     *      render\r\n     *      componentDidUpdate\r\n     *  - unmounting\r\n     *      componentWillUnmount\r\n     */\r\n    componentDidMount() {\r\n        console.log(\"rendered\");\r\n        this.getMovies(1);\r\n\r\n        window.addEventListener(\"scroll\",this.state.scrollFunction)\r\n    }\r\n\r\n    getMovies = async (page) => {\r\n\r\n        return new Promise(async r => {\r\n            console.log(page+\" 페이지 영화목록 로딩...\");\r\n\r\n            this.setState(({isLoading:true}))\r\n            let { data: {data: { movies }}} = await Axios.get(\"https://yts-proxy.now.sh/list_movies.json?sort_by=rating&page=\"+page);\r\n            movies = this.state.movies.concat(movies);\r\n            this.setState(({isLoading:false,movies}));\r\n            r();\r\n        })\r\n        \r\n    }\r\n\r\n    // React re-render page for every setState execution\r\n    componentDidUpdate() {\r\n        console.log(\"updated\");\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log(\"Goodbye, cruel world...!\")\r\n        window.removeEventListener(\"scroll\",this.state.scrollFunction)\r\n    }\r\n\r\n    // React는 자동적으로 Class component의 render 메소드를 실행한다!\r\n    render() {\r\n        console.log(\"rendering\");\r\n        return <div className=\"container\">\r\n\r\n            {this.state.isLoading\r\n            ? <div className=\"loader\">\r\n                    <span className=\"loader_icon\">\r\n                        <FontAwesomeIcon icon={faSpinner} size=\"5x\" color=\"white\"/>\r\n                    </span>\r\n                    <span className=\"loader_text\">Loading...</span>\r\n                </div>\r\n            : null}\r\n\r\n\r\n            <div className=\"movies\">\r\n                {this.state.movies.map(e => (\r\n                    <Movie \r\n                        key={e.id}\r\n                        title={e.title_english}\r\n                        year={e.year}\r\n                        image={e.medium_cover_image}\r\n                        rating={e.rating}\r\n                        genre={e.genres}\r\n                        summary={e.summary}\r\n                        data={e}\r\n                    />\r\n                ))}\r\n            </div>\r\n\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Home","import React from \"react\";\r\nimport \"./About.css\"\r\n\r\nfunction About(props) {\r\n    console.log(props)\r\n    return <div className=\"container\">\r\n            <div className=\"aboutWrapper\">\r\n                <div className=\"about\">\r\n                    <div>\r\n                        <h1>Simple infinite list of movies</h1>\r\n                        <h3>Created by Minwoo Lee</h3>\r\n                        <h3>Powered by React.js</h3>\r\n                        <h3>API from yts <a style={{fontSize:\"0.7em\"}} href=\"https://yts-proxy.now.sh/api\">(https://yts-proxy.now.sh/api)</a></h3>\r\n                    </div>\r\n                    <div style={{marginTop:50}}>\r\n                        <a  href=\"https://github.com/minuuoo97/movie_app\">https://github.com/minuuoo97/movie_app</a>\r\n                    </div>\r\n                    <div style={{fontSize:\"0.7em\",marginTop:50,color:\"gray\"}}>\r\n                        <p>“The length of a film should be directly related to the endurance of the human bladder.”</p>\r\n                        <span>- Alfred Hitchcock -</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n}\r\n\r\nexport default About;","import React from \"react\";\r\nimport ReactYoutube from \"react-youtube\";\r\nimport \"./MovieDetail.css\";\r\n\r\nclass MovieDetail extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const { location, history } = this.props;\r\n        console.log(location.state);\r\n        if (location.state === undefined) {\r\n            history.push(\"/\");\r\n        }\r\n    }\r\n\r\n    render = ()=> {\r\n        const { location } = this.props;\r\n        if ( location.state === undefined) {\r\n            return null\r\n        }\r\n\r\n        let {title, year, large_cover_image, genres, summary, rating,yt_trailer_code} = location.state.movie;\r\n        \r\n        return <div className=\"container\">\r\n            <div className=\"movieDetail\">\r\n\r\n                <div className=\"detail_imageWrapper\">\r\n                    <img className=\"detail_image\" src={large_cover_image} alt={title} title={title} />\r\n                </div>\r\n\r\n                <div className=\"detail_info\">\r\n                    <div className=\"detail_title\">{title}</div>\r\n                    <div className=\"detail_year\">{year}</div>\r\n                    <div className=\"detail_genre\"><ul>{genres.map((e, idx)=><li key={idx}>{e}</li>)}</ul></div>\r\n                    <div className=\"detail_rating\">\r\n                        {rating}\r\n                    </div>\r\n                    <div className=\"detail_summary\">{summary}</div>\r\n                    <ReactYoutube videoId={yt_trailer_code} />\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    };\r\n}\r\n\r\nexport default MovieDetail;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport { faFilm } from \"@fortawesome/free-solid-svg-icons\";\r\nimport './Navigation.css'\r\n\r\nfunction Navigation() {\r\n    return <div className=\"navigation\">\r\n        <Link to=\"/\"><div className=\"logo_area\"><FontAwesomeIcon className=\"logo\" icon={faFilm} size=\"3x\" color=\"gray\"/><span className=\"logoText\">CinemaList</span></div></Link>\r\n        <div className=\"menu_area\">\r\n            {/* <Link to=\"/old\">Old Home</Link> */}\r\n            <Link to=\"/about\">About</Link>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport Home from './routes/Home'\n// import OldHome from './routes/OldHome'\nimport About from './routes/About'\nimport MovieDetail from './routes/MovieDetail'\nimport Navigation from './components/Navigation'\n\n// Router 종류에서 BrowserRouter를 사용할 수 있지만, Github.io deploy가 번거로워진다.\n// HashRouter는 tag를 사용하여, url에 #/가 추가되는 단점이 있지만 보다 단순하다.\nfunction App() {\n  return <HashRouter>\n          <Navigation />\n          <Route path=\"/\" exact={true} component={Home} />\n          {/* <Route path=\"/old\" component={OldHome} /> */}\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/movie_detail\" component={MovieDetail} />\n        </HashRouter>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}